let history = [];

function appendToDisplay(value) {
    document.form1.answer.value += value;
}

function clearDisplay() {
    document.form1.answer.value = '';
}

function calculateResult() {
    let input = document.form1.answer.value;
    try {
        let result = eval(input);
        document.form1.answer.value = result;
        addToHistory(`${input} = ${result}`);
    } catch (e) {
        document.form1.answer.value = 'Error';
    }
}

function addToHistory(calculation) {
    history.push(calculation);
    if (history.length > 5) {
        history.shift();
    }
    displayHistory();
}

function displayHistory() {
    let historyList = document.getElementById('history-list');
    historyList.innerHTML = '';
    history.forEach(item => {
        let li = document.createElement('li');
        li.textContent = item;
        historyList.appendChild(li);
    });
}
